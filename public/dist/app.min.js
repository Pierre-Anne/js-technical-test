"use strict";var jsTechnicalTestApp=angular.module("jsTechnicalTestApp",["ui.router"]);jsTechnicalTestApp.config(function(e,s,t,r){r.strictMode(!1),s.state("root",{url:"/",views:{header:{templateUrl:"src/app/header/headerView.html",controller:"HeaderController",controllerAs:"vm"}}}).state("root.home",{url:"",views:{"container@":{templateUrl:"src/app/home/homeView.html",controller:"HomeController",controllerAs:"vm"}}}).state("root.issue",{url:"issue",views:{"container@":{templateUrl:"src/app/issue/IssueView.html",controller:"IssueController",controllerAs:"vm"}}}),t.otherwise("/"),e.html5Mode({enabled:!0})});var HeaderController=function(){function e(e,s){this.headerService=e,this.$state=s,e.setHeaderTitle("choose your issue"),this.$state.go("root.home")}return e.$inject=["HeaderService","$state"],e}();jsTechnicalTestApp.controller("HeaderController",HeaderController);var HomeController=function(){function e(e,s,t){this.$state=e,this.httpUtilService=s,this.issueService=t,this.issue="6867",this.owner="nodejs",this.repo="node",this.test1=[{url:"https://api.github.com/repos/nodejs/node/issues/comments/220158121",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-220158121",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:220158121,user:{login:"kzc",id:11593452,avatar_url:"https://avatars.githubusercontent.com/u/11593452?v=3",gravatar_id:"",url:"https://api.github.com/users/kzc",html_url:"https://github.com/kzc",followers_url:"https://api.github.com/users/kzc/followers",following_url:"https://api.github.com/users/kzc/following{/other_user}",gists_url:"https://api.github.com/users/kzc/gists{/gist_id}",starred_url:"https://api.github.com/users/kzc/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/kzc/subscriptions",organizations_url:"https://api.github.com/users/kzc/orgs",repos_url:"https://api.github.com/users/kzc/repos",events_url:"https://api.github.com/users/kzc/events{/privacy}",received_events_url:"https://api.github.com/users/kzc/received_events",type:"User",site_admin:!1},created_at:"2016-05-18T21:06:17Z",updated_at:"2016-05-18T21:06:17Z",body:"So you're experiencing a dropped data to console with normal exiting JS? i.e., without calling `process.exit()`? If so, that's a different issue to #6456.\r\n\r\nOn which platform are you experiencing this issue?"},{url:"https://api.github.com/repos/nodejs/node/issues/comments/220159462",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-220159462",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:220159462,user:{login:"indutny",id:238531,avatar_url:"https://avatars.githubusercontent.com/u/238531?v=3",gravatar_id:"",url:"https://api.github.com/users/indutny",html_url:"https://github.com/indutny",followers_url:"https://api.github.com/users/indutny/followers",following_url:"https://api.github.com/users/indutny/following{/other_user}",gists_url:"https://api.github.com/users/indutny/gists{/gist_id}",starred_url:"https://api.github.com/users/indutny/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/indutny/subscriptions",organizations_url:"https://api.github.com/users/indutny/orgs",repos_url:"https://api.github.com/users/indutny/repos",events_url:"https://api.github.com/users/indutny/events{/privacy}",received_events_url:"https://api.github.com/users/indutny/received_events",type:"User",site_admin:!1},created_at:"2016-05-18T21:11:19Z",updated_at:"2016-05-18T21:11:19Z",body:"That happens because of `libc` buffer size limit. In fact `vfprintf` returns `-1`."},{url:"https://api.github.com/repos/nodejs/node/issues/comments/220169696",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-220169696",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:220169696,user:{login:"kzc",id:11593452,avatar_url:"https://avatars.githubusercontent.com/u/11593452?v=3",gravatar_id:"",url:"https://api.github.com/users/kzc",html_url:"https://github.com/kzc",followers_url:"https://api.github.com/users/kzc/followers",following_url:"https://api.github.com/users/kzc/following{/other_user}",gists_url:"https://api.github.com/users/kzc/gists{/gist_id}",starred_url:"https://api.github.com/users/kzc/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/kzc/subscriptions",organizations_url:"https://api.github.com/users/kzc/orgs",repos_url:"https://api.github.com/users/kzc/repos",events_url:"https://api.github.com/users/kzc/events{/privacy}",received_events_url:"https://api.github.com/users/kzc/received_events",type:"User",site_admin:!1},created_at:"2016-05-18T21:53:36Z",updated_at:"2016-05-18T21:53:36Z",body:"src/node.cc:\r\n```\r\n    vfprintf(stderr, format, ap);\r\n```\r\nThat's technically not correct without flushing libuv and node write queues to `process.stderr` first - and having stderr fd block."},{url:"https://api.github.com/repos/nodejs/node/issues/comments/220170972",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-220170972",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:220170972,user:{login:"indutny",id:238531,avatar_url:"https://avatars.githubusercontent.com/u/238531?v=3",gravatar_id:"",url:"https://api.github.com/users/indutny",html_url:"https://github.com/indutny",followers_url:"https://api.github.com/users/indutny/followers",following_url:"https://api.github.com/users/indutny/following{/other_user}",gists_url:"https://api.github.com/users/indutny/gists{/gist_id}",starred_url:"https://api.github.com/users/indutny/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/indutny/subscriptions",organizations_url:"https://api.github.com/users/indutny/orgs",repos_url:"https://api.github.com/users/indutny/repos",events_url:"https://api.github.com/users/indutny/events{/privacy}",received_events_url:"https://api.github.com/users/indutny/received_events",type:"User",site_admin:!1},created_at:"2016-05-18T21:59:13Z",updated_at:"2016-05-18T21:59:13Z",body:"@kzc this is a separate issue, IMO"},{url:"https://api.github.com/repos/nodejs/node/issues/comments/220174747",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-220174747",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:220174747,user:{login:"kzc",id:11593452,avatar_url:"https://avatars.githubusercontent.com/u/11593452?v=3",gravatar_id:"",url:"https://api.github.com/users/kzc",html_url:"https://github.com/kzc",followers_url:"https://api.github.com/users/kzc/followers",following_url:"https://api.github.com/users/kzc/following{/other_user}",gists_url:"https://api.github.com/users/kzc/gists{/gist_id}",starred_url:"https://api.github.com/users/kzc/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/kzc/subscriptions",organizations_url:"https://api.github.com/users/kzc/orgs",repos_url:"https://api.github.com/users/kzc/repos",events_url:"https://api.github.com/users/kzc/events{/privacy}",received_events_url:"https://api.github.com/users/kzc/received_events",type:"User",site_admin:!1},created_at:"2016-05-18T22:16:17Z",updated_at:"2016-05-24T15:15:26Z",body:'It\'s a different take on the same issue actually.\r\n```\r\n$ node -v\r\nv6.0.0\r\n\r\n$ node -e \'for(var i=0;i<9999;++i){process.stderr.write(i + ": The quick brown fox jumps.\\n")}throw new Error("Fin.");\'\r\n0: The quick brown fox jumps.\r\n1: The quick brown fox jumps.\r\n2: The quick brown fox jumps.\r\n3: The quick brown fox jumps.\r\n...\r\n1595: The quick brown fox jumps.\r\n1596: The quick brown fox jumps.\r\n1597: The quick brown fox jumps.\r\n1598[eval]:1\r\nfor(var i=0;i<9999;++i){process.stderr.write(i + ": The quick brown fox jumps.\\n")}throw new Error("Fin.");\r\n                                                                                   ^\r\nError: Fin.\r\n    at [eval]:1:90\r\n    at Object.exports.runInThisContext (vm.js:54:17)\r\n    at Object.<anonymous> ([eval]-wrapper:6:22)\r\n    at Module._compile (module.js:541:32)\r\n    at node.js:328:29\r\n    at _combinedTickCallback (internal/process/next_tick.js:67:7)\r\n    at process._tickCallback (internal/process/next_tick.js:98:9)\r\n```\r\n`vfprintf(stderr)` and libuv/node writes shouldn\'t be mixed.\r\n\r\nEdit: the test run above was with node 6.0.0 on Mac. **Issue was reproduced with node 5.10.1 on Linux** - it outputs between 2400 and 2900 rows before showing the exception on my machine.'},{url:"https://api.github.com/repos/nodejs/node/issues/comments/220177074",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-220177074",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:220177074,user:{login:"kzc",id:11593452,avatar_url:"https://avatars.githubusercontent.com/u/11593452?v=3",gravatar_id:"",url:"https://api.github.com/users/kzc",html_url:"https://github.com/kzc",followers_url:"https://api.github.com/users/kzc/followers",following_url:"https://api.github.com/users/kzc/following{/other_user}",gists_url:"https://api.github.com/users/kzc/gists{/gist_id}",starred_url:"https://api.github.com/users/kzc/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/kzc/subscriptions",organizations_url:"https://api.github.com/users/kzc/orgs",repos_url:"https://api.github.com/users/kzc/repos",events_url:"https://api.github.com/users/kzc/events{/privacy}",received_events_url:"https://api.github.com/users/kzc/received_events",type:"User",site_admin:!1},created_at:"2016-05-18T22:27:53Z",updated_at:"2016-05-19T01:44:45Z",body:'Using a locally [patched](https://github.com/kzc/node/commit/29997921800e00a22d9f92d24704a0021be03bbf) version of node with a flushSync method on stream it produces the expected result - outputting all rows prior to the exception.\r\n```\r\nfor (var i = 0; i <= 9999; ++i) {\r\n    process.stdout.write(i + ": stdout - The quick brown fox jumps.\\n");\r\n    process.stderr.write(i + ": stderr - The quick brown fox jumps.\\n");\r\n}\r\nprocess.stdout.flushSync && process.stdout.flushSync();\r\nprocess.stderr.flushSync && process.stderr.flushSync();\r\nthrow new Error("Fin.");\r\n```\r\nEdit: code sample was edited to work with the [patched](https://github.com/kzc/node/commit/29997921800e00a22d9f92d24704a0021be03bbf) version of node as well as unmodified node releases. Note: this is a different patch than seen in PR https://github.com/nodejs/node/pull/6773 which does not have flushSync method on stream (Writable actually). This patch is for demonstrative purposes only.'},{url:"https://api.github.com/repos/nodejs/node/issues/comments/220299297",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-220299297",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:220299297,user:{login:"kzc",id:11593452,avatar_url:"https://avatars.githubusercontent.com/u/11593452?v=3",gravatar_id:"",url:"https://api.github.com/users/kzc",html_url:"https://github.com/kzc",followers_url:"https://api.github.com/users/kzc/followers",following_url:"https://api.github.com/users/kzc/following{/other_user}",gists_url:"https://api.github.com/users/kzc/gists{/gist_id}",starred_url:"https://api.github.com/users/kzc/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/kzc/subscriptions",organizations_url:"https://api.github.com/users/kzc/orgs",repos_url:"https://api.github.com/users/kzc/repos",events_url:"https://api.github.com/users/kzc/events{/privacy}",received_events_url:"https://api.github.com/users/kzc/received_events",type:"User",site_admin:!1},created_at:"2016-05-19T11:36:16Z",updated_at:"2016-05-19T11:36:16Z",body:"As [noted above](https://github.com/nodejs/node/issues/6867#issuecomment-220174747) this issue is present in node 5.x on Linux (and presumably on node 4.x) so it's not a recent regression.\r\n\r\nNot sure what's the best way to fix this mixing of different stdio mechanisms. PR #6773 will not fix it alone. It's only similar to that issue in that the event loop has ceased and stdio is unflushed.\r\n\r\nIn light of this exception/stdio issue, the documentation to `process.exit` is not correct:\r\n\r\n> If it is necessary to terminate the Node.js process due to an error condition, throwing an *uncaught* error and allowing the process to terminate accordingly is safer than calling `process.exit()`.\r\n> https://github.com/nodejs/node/blob/master/doc/api/process.md#processexitcode\r\n\r\nInstead of calling `vfprintf(stderr,...)` could v8 be re-entered at this point so that `process.stderr.write()` be called with the exception error string and `process.exit()` called to initiate the stdio flush as in #6773?\r\n\r\n/cc @jasnell "},{url:"https://api.github.com/repos/nodejs/node/issues/comments/220310414",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-220310414",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:220310414,user:{login:"kzc",id:11593452,avatar_url:"https://avatars.githubusercontent.com/u/11593452?v=3",gravatar_id:"",url:"https://api.github.com/users/kzc",html_url:"https://github.com/kzc",followers_url:"https://api.github.com/users/kzc/followers",following_url:"https://api.github.com/users/kzc/following{/other_user}",gists_url:"https://api.github.com/users/kzc/gists{/gist_id}",starred_url:"https://api.github.com/users/kzc/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/kzc/subscriptions",organizations_url:"https://api.github.com/users/kzc/orgs",repos_url:"https://api.github.com/users/kzc/repos",events_url:"https://api.github.com/users/kzc/events{/privacy}",received_events_url:"https://api.github.com/users/kzc/received_events",type:"User",site_admin:!1},created_at:"2016-05-19T12:32:15Z",updated_at:"2016-05-19T12:32:15Z",body:"Another way: invoke `uv_flush_sync()` on stdout and stderr uv streams, re-enter v8 just to obtain the outstanding buffered write data for stdout and stderr node streams, return to C++ and flush this data, and then call `vfprintf(stderr,...)`."},{url:"https://api.github.com/repos/nodejs/node/issues/comments/223731848",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-223731848",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:223731848,user:{login:"kzc",id:11593452,avatar_url:"https://avatars.githubusercontent.com/u/11593452?v=3",gravatar_id:"",url:"https://api.github.com/users/kzc",html_url:"https://github.com/kzc",followers_url:"https://api.github.com/users/kzc/followers",following_url:"https://api.github.com/users/kzc/following{/other_user}",gists_url:"https://api.github.com/users/kzc/gists{/gist_id}",starred_url:"https://api.github.com/users/kzc/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/kzc/subscriptions",organizations_url:"https://api.github.com/users/kzc/orgs",repos_url:"https://api.github.com/users/kzc/repos",events_url:"https://api.github.com/users/kzc/events{/privacy}",received_events_url:"https://api.github.com/users/kzc/received_events",type:"User",site_admin:!1},created_at:"2016-06-04T02:45:48Z",updated_at:"2016-06-04T02:45:48Z",body:'Reproduced bug with node 4.x on Linux:\r\n```\r\n$ node -v\r\nv4.4.5\r\n\r\n$ node -p process.platform\r\nlinux\r\n\r\n$ node -e \'for(var i=0;i<9999;++i){process.stderr.write(i+": The quick brown fox jumps.\\n")}throw new Error("Fin.");\'\r\n0: The quick brown fox jumps.\r\n1: The quick brown fox jumps.\r\n2: The quick brown fox jumps.\r\n...\r\n2399: The quick brown fox jumps.\r\n2400: The quick brown fox jumps.\r\n2401: The quick brown fox jumps.$ \r\n```\r\nNumber of lines outputted is variable on repeated runs - 2281 to 2407. Sometimes the uncaught exception is printed, and sometimes it is not (as seen above).'},{url:"https://api.github.com/repos/nodejs/node/issues/comments/227634557",html_url:"https://github.com/nodejs/node/issues/6867#issuecomment-227634557",issue_url:"https://api.github.com/repos/nodejs/node/issues/6867",id:227634557,user:{login:"kzc",id:11593452,avatar_url:"https://avatars.githubusercontent.com/u/11593452?v=3",gravatar_id:"",url:"https://api.github.com/users/kzc",html_url:"https://github.com/kzc",followers_url:"https://api.github.com/users/kzc/followers",following_url:"https://api.github.com/users/kzc/following{/other_user}",gists_url:"https://api.github.com/users/kzc/gists{/gist_id}",starred_url:"https://api.github.com/users/kzc/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/kzc/subscriptions",organizations_url:"https://api.github.com/users/kzc/orgs",repos_url:"https://api.github.com/users/kzc/repos",events_url:"https://api.github.com/users/kzc/events{/privacy}",received_events_url:"https://api.github.com/users/kzc/received_events",type:"User",site_admin:!1},created_at:"2016-06-22T03:37:22Z",updated_at:"2016-06-22T03:37:22Z",body:"Could someone please add a `confirmed-bug` tag to this issue to raise the profile of this bug?"}],this.test2={url:"https://api.github.com/repos/nodejs/node/issues/6867",repository_url:"https://api.github.com/repos/nodejs/node",labels_url:"https://api.github.com/repos/nodejs/node/issues/6867/labels{/name}",comments_url:"https://api.github.com/repos/nodejs/node/issues/6867/comments",events_url:"https://api.github.com/repos/nodejs/node/issues/6867/events",html_url:"https://github.com/nodejs/node/issues/6867",id:155600407,number:6867,title:"Missing or truncated error message",user:{login:"ChALkeR",id:291301,avatar_url:"https://avatars.githubusercontent.com/u/291301?v=3",gravatar_id:"",url:"https://api.github.com/users/ChALkeR",html_url:"https://github.com/ChALkeR",followers_url:"https://api.github.com/users/ChALkeR/followers",following_url:"https://api.github.com/users/ChALkeR/following{/other_user}",gists_url:"https://api.github.com/users/ChALkeR/gists{/gist_id}",starred_url:"https://api.github.com/users/ChALkeR/starred{/owner}{/repo}",subscriptions_url:"https://api.github.com/users/ChALkeR/subscriptions",organizations_url:"https://api.github.com/users/ChALkeR/orgs",repos_url:"https://api.github.com/users/ChALkeR/repos",events_url:"https://api.github.com/users/ChALkeR/events{/privacy}",received_events_url:"https://api.github.com/users/ChALkeR/received_events",type:"User",site_admin:!1},labels:[{url:"https://api.github.com/repos/nodejs/node/labels/process",name:"process",color:"00aaff"}],state:"open",locked:!1,assignee:null,assignees:[],milestone:null,comments:10,created_at:"2016-05-18T21:00:16Z",updated_at:"2016-06-22T03:37:22Z",closed_at:null,body:"This looks close to #6456, and I thought it was just another case of that issue, but @indutny mentioned that the errors are printed from c++, so #6456 alone shouldn't have caused this, this is why I'm opening a separate issue.\r\n\r\nA harder to reproduce example where the error is missing (it reproduces with about 10% chance for me):\r\n```js\r\nfor (var i = 0; i < 10000; i++) {\r\n  console.log('HelloHelloHelloHelloHelloHelelloHelloHelloHelloHelloHelloHello ' + i);\r\n}\r\na();\r\n```\r\n\r\nA simplier to reproduce example (the error gets truncated here most of the times, and sometimes is missing as in the previous example):\r\n```js\r\nfor (var i = 0; i < 10000; i++) {\r\n  console.log('HelloHelloHelloHelloHelloHelelloHelloHelloHelloHelloHelloHello ' + i);\r\n}\r\nthrow new Error(Array(100000 + 1).join('x') + '!');\r\n```",closed_by:null}}return e.prototype.getIssue=function(){this.issueService.setIssue(this.test2),this.issueService.setIssueComment(this.test1),this.$state.go("root.issue")},e.$inject=["$state","HttpUtilService","IssueService"],e}();jsTechnicalTestApp.controller("HomeController",HomeController);var IssueController=function(){function e(e,s,t){this.issueService=e,this.headerService=s,this.hiddenService=t,this.issue=e.getIssue(),this.comments=e.getIssueComment(),this.users=e.getIssueUser(),s.setHeaderTitle(this.issue.title)}return e.prototype.addHiddenUser=function(e){this.hiddenService.isHiddenUser(e)?this.hiddenService.removeHiddenUser(e):this.hiddenService.addHiddenService(e)},e.$inject=["IssueService","HeaderService","HiddenService"],e}();jsTechnicalTestApp.controller("IssueController",IssueController);var Comment=function(){function e(){}return e.prototype.initCommentFromWSResponse=function(e){this.url=e.url,this.htmlUrl=e.html_url,this.issueUrl=e.issue_url,this.id=e.id,this.user=new User,this.user.initUserFromWSResponse(e.user),this.createdAt=e.created_at,this.updatedAt=e.updated_at,this.body=e.body},e}(),Issue=function(){function e(){}return e.prototype.initIssueFromWSResponse=function(e){var s=new Array;this.url=e.url,this.repositoryUrl=e.repository_url,this.labelsUrl=e.labels_url,this.commentsUrl=e.comments_url,this.eventsUrl=e.events_url,this.htmlUrl=e.html_url,this.id=e.id,this.number=e.number,this.title=e.title,this.user=new User,this.user.initUserFromWSResponse(e.user),_.each(e.labels,function(e){var t=new Label;t.initLabelFromWSResponse(e),s.push(t)}),this.labels=s,this.state=e.state,this.locked=e.locked,this.assignee=e.assignee,this.assignees=e.assignees,this.milestone=e.milestone,this.comments=e.comments,this.createdAt=e.created_at,this.updatedAt=e.updated_at,this.closedAt=e.closed_at,this.body=e.body,this.closedBy=e.closed_by},e}(),Label=function(){function e(){}return e.prototype.initLabelFromWSResponse=function(e){this.url=e.url,this.name=e.name,this.color=e.color},e}(),User=function(){function e(){}return e.prototype.initUserFromWSResponse=function(e){this.login=e.login,this.id=e.id,this.avatarUrl=e.avatar_url,this.gravatarId=e.gravatar_id,this.url=e.url,this.htmlUrl=e.html_url,this.followersUrl=e.followers_url,this.followingUrl=e.following_url,this.gistsUrl=e.gists_url,this.starredUrl=e.starred_url,this.subscriptionsUrl=e.subscriptions_url,this.organizationsUrl=e.organizations_url,this.reposUrl=e.repos_url,this.eventsUrl=e.events_url,this.receivedEventsUrl=e.received_events_url,this.type=e.type,this.siteAdmin=e.site_admin},e}(),HeaderService=function(){function e(){}return e.prototype.setHeaderTitle=function(e){this.headerTitle=e},e.prototype.getHeaderTitle=function(){return this.headerTitle},e}();jsTechnicalTestApp.service("HeaderService",HeaderService);var HiddenService=function(){function e(){this.hiddenUsers=[]}return e.prototype.addHiddenService=function(e){this.hiddenUsers.push(e)},e.prototype.getHiddenService=function(){return this.hiddenUsers},e.prototype.isHiddenUser=function(e){var s=_.indexOf(this.hiddenUsers,e);return s!==-1},e.prototype.removeHiddenUser=function(e){var s=_.indexOf(this.hiddenUsers,e);this.hiddenUsers.splice(s,1)},e}();jsTechnicalTestApp.service("HiddenService",HiddenService);var IssueService=function(){function e(){this.issueCommentModel=new Array,this.issueUser=new Array}return e.prototype.getIssue=function(){return this.issueModel},e.prototype.setIssue=function(e){this.issueModel=new Issue,this.issueModel.initIssueFromWSResponse(e);var s=new User;s.initUserFromWSResponse(e.user),this.issueUser.push(s)},e.prototype.getIssueComment=function(){return this.issueCommentModel},e.prototype.setIssueComment=function(e){var s=Array();_.each(e,function(e){var t=new Comment;t.initCommentFromWSResponse(e),s.push(t)}),this.issueCommentModel=s,this.setIssueUser()},e.prototype.setIssueUser=function(){_.each(this.issueCommentModel,function(e){_.isUndefined(_.find(this.issueUser,{id:e.user.id}))&&this.issueUser.push(e.user)}.bind(this))},e.prototype.getIssueUser=function(){return this.issueUser},e}();jsTechnicalTestApp.service("IssueService",IssueService);var HttpUtilService=function(){function e(e){this.$http=e,this.apiUrl="http://api.github.com/repos"}return e.prototype.requestComment=function(e,s,t){var r=this.apiUrl+"/"+s+"/"+t+"/issues/"+e+"/comments";return this.$http.get(r)},e.prototype.requestIssue=function(e,s,t){var r=this.apiUrl+"/"+s+"/"+t+"/issues/"+e;return this.$http.get(r)},e.$inject=["$http"],e}();jsTechnicalTestApp.service("HttpUtilService",HttpUtilService);var CommentController=function(){function e(e){this.hiddenService=e}return e.prototype.isHidden=function(e){return this.hiddenService.isHiddenUser(e)},e.$inject=["HiddenService"],e}();jsTechnicalTestApp.controller("CommentController",CommentController);var CommentDirective=function(){function e(){this.restrict="A",this.templateUrl="src/app/util/comment/commentView.html",this.scope={comment:"="},this.link=this._link.bind(this)}return e.prototype._link=function(e,s,t,r,i){e.comment=e.comment},e.factory=function(){return new e},e}();jsTechnicalTestApp.directive("ngComment",CommentDirective.factory),angular.module("app.templates",[]).run(["$templateCache",function(e){e.put("app-templates/app/header/headerView.html",'<div class="header">{{vm.headerService.getHeaderTitle()}}</div>'),e.put("app-templates/app/home/homeView.html",'<!-- main-content -->\n\n<form class="" id="get_issue" ng-submit="vm.getIssue()">\n    <div class="col-md-4 col-md-offset-4">\n\n        <h6>Get Issue</h6>\n\n        <div class="row">\n            <div class="col-sm-4 col-xs-4">\n                <div class="">\n                    <input ng-model="vm.issue" class="" id="issue" name="issue" required>\n                    <label for="issue">Your issue</label>\n                </div>\n            </div>\n\n            <div class="col-sm-4 col-xs-4">\n                <div class="">\n                    <input ng-model="vm.owner" class="" id="owner" name="owner" required>\n                    <label for="owner">Your issue</label>\n                </div>\n            </div>\n\n            <div class="col-sm-4 col-xs-4">\n                <div class="">\n                    <input ng-model="vm.repo" class="" id="repo" name="repo" required>\n                    <label for="repo">Your issue</label>\n                </div>\n            </div>\n        </div>\n\n        <button type="submit" class="btn btn-default btn-large">Validate</button>\n\n    </div>\n</form>'),e.put("app-templates/app/issue/IssueView.html",'<div>\r\n    <div class="row">\r\n        <div class="col-sm-4 col-xs-4">\r\n            <div ng-repeat="user in vm.users" class="user">\r\n                <span ng-click="vm.addHiddenUser(user.id)">{{user.login}}</span>\r\n            </div>\r\n        </div>\r\n        <div class="col-sm-8 col-xs-8 issue">\r\n            <h4>Convesation with {{vm.issue.user.login}}</h4>\r\n\r\n            <div ng-comment comment="vm.issue"></div>\r\n\r\n            <div ng-repeat="comment in vm.comments">\r\n                <div ng-comment comment="comment"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),e.put("app-templates/app/util/comment/commentView.html",'<div ng-controller="CommentController as vm">\r\n    <div class="row">\r\n        <div ng-hide="vm.isHidden(comment.user.id)">\r\n            <div class="col-sm-2 col-xs-2">\r\n                <img src="comment.user.avatarUrl" alt="avatar">\r\n            </div>\r\n            <div class="col-sm-10 col-xs-10 comment" ng-bind="comment.body">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>')}]);
//# sourceMappingURL=app.min.js.map
